
{
  "entities": {
    "Patient": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Patient",
      "type": "object",
      "description": "Represents a patient within the MediChain system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Patient entity."
        },
        "firstName": {
          "type": "string",
          "description": "Patient's first name."
        },
        "lastName": {
          "type": "string",
          "description": "Patient's last name."
        },
        "dateOfBirth": {
          "type": "string",
          "description": "Patient's date of birth.",
          "format": "date"
        },
        "gender": {
          "type": "string",
          "description": "Patient's gender."
        },
        "contactNumber": {
          "type": "string",
          "description": "Patient's contact phone number."
        },
        "email": {
          "type": "string",
          "description": "Patient's email address.",
          "format": "email"
        },
        "address": {
          "type": "string",
          "description": "Patient's address."
        },
        "tasks": {
            "type": "array",
            "description": "List of nursing tasks for the patient.",
            "items": {
                "type": "object",
                "properties": {
                    "description": { "type": "string" },
                    "completed": { "type": "boolean" }
                },
                "required": ["description", "completed"]
            }
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "dateOfBirth",
        "gender"
      ]
    },
    "Medication": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Medication",
      "type": "object",
      "description": "Represents a medication available in the pharmacy inventory.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Medication entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the medication."
        },
        "dosage": {
          "type": "string",
          "description": "Dosage of the medication (e.g., 100mg)."
        },
        "unit": {
          "type": "string",
          "description": "Unit of measurement for the dosage (e.g., tablets)."
        },
        "form": {
          "type": "string",
          "description": "Form of the medication (e.g., capsule, liquid)."
        },
        "manufacturer": {
          "type": "string",
          "description": "Manufacturer of the medication."
        }
      },
      "required": [
        "id",
        "name",
        "dosage",
        "unit",
        "form",
        "manufacturer"
      ]
    },
    "MedicationBatch": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "MedicationBatch",
      "type": "object",
      "description": "Represents a specific batch of a medication in the inventory, tracking expiry and quantity.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the MedicationBatch entity."
        },
        "medicationId": {
          "type": "string",
          "description": "Reference to Medication. (Relationship: Medication 1:N MedicationBatch)"
        },
        "batchNumber": {
          "type": "string",
          "description": "Batch number of the medication."
        },
        "expiryDate": {
          "type": "string",
          "description": "Expiry date of the medication batch.",
          "format": "date"
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of the medication in this batch."
        }
      },
      "required": [
        "id",
        "medicationId",
        "batchNumber",
        "expiryDate",
        "quantity"
      ]
    },
    "Prescription": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Prescription",
      "type": "object",
      "description": "Represents a prescription issued to a patient.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Prescription entity."
        },
        "patientId": {
          "type": "string",
          "description": "Reference to Patient. (Relationship: Patient 1:N Prescription)"
        },
        "medicationId": {
          "type": "string",
          "description": "Reference to Medication. (Relationship: Medication 1:N Prescription)"
        },
        "doctorId": {
          "type": "string",
          "description": "Reference to Doctor. (Relationship: Doctor 1:N Prescription)"
        },
        "datePrescribed": {
          "type": "string",
          "description": "Date the prescription was issued.",
          "format": "date"
        },
        "dosage": {
          "type": "string",
          "description": "Dosage instructions for the prescription."
        },
        "frequency": {
          "type": "string",
          "description": "Frequency of medication intake (e.g., twice daily)."
        },
        "quantity": {
          "type": "number",
          "description": "Total quantity of medication prescribed."
        },
        "refills": {
          "type": "number",
          "description": "Number of refills allowed for the prescription."
        },
        "status": {
            "type": "string"
        }
      },
      "required": [
        "id",
        "patientId",
        "medicationId",
        "doctorId",
        "datePrescribed",
        "dosage",
        "frequency",
        "quantity"
      ]
    },
    "Doctor": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Doctor",
      "type": "object",
      "description": "Represents a doctor or physician in the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Doctor entity."
        },
        "firstName": {
          "type": "string",
          "description": "Doctor's first name."
        },
        "lastName": {
          "type": "string",
          "description": "Doctor's last name."
        },
        "speciality": {
          "type": "string",
          "description": "Doctor's medical specialty."
        },
        "contactNumber": {
          "type": "string",
          "description": "Doctor's contact phone number."
        },
        "email": {
          "type": "string",
          "description": "Doctor's email address.",
          "format": "email"
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "speciality"
      ]
    },
    "Appointment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Appointment",
      "type": "object",
      "description": "Represents a scheduled appointment between a patient and a doctor.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Appointment entity."
        },
        "patientId": {
          "type": "string",
          "description": "Reference to Patient. (Relationship: Patient 1:N Appointment)"
        },
        "doctorId": {
          "type": "string",
          "description": "Reference to Doctor. (Relationship: Doctor 1:N Appointment)"
        },
        "appointmentDateTime": {
          "type": "string",
          "description": "Date and time of the appointment.",
          "format": "date-time"
        },
        "reason": {
          "type": "string",
          "description": "Reason for the appointment."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes for the appointment."
        }
      },
      "required": [
        "id",
        "patientId",
        "doctorId",
        "appointmentDateTime",
        "reason"
      ]
    },
    "LabOrder": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "LabOrder",
      "type": "object",
      "description": "Represents an order for a laboratory test.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the LabOrder entity."
        },
        "patientId": {
          "type": "string",
          "description": "Reference to Patient. (Relationship: Patient 1:N LabOrder)"
        },
        "doctorId": {
          "type": "string",
          "description": "Reference to Doctor. (Relationship: Doctor 1:N LabOrder)"
        },
        "orderDate": {
          "type": "string",
          "description": "Date the lab order was placed.",
          "format": "date"
        },
        "testType": {
          "type": "string",
          "description": "Type of lab test ordered."
        },
        "status": {
          "type": "string",
          "description": "Status of the lab order (e.g., pending, completed)."
        }
      },
      "required": [
        "id",
        "patientId",
        "doctorId",
        "orderDate",
        "testType",
        "status"
      ]
    },
    "VitalSign": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "VitalSign",
      "type": "object",
      "description": "Represents a patient's vital sign measurement.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the VitalSign entity."
        },
        "patientId": {
          "type": "string",
          "description": "Reference to Patient. (Relationship: Patient 1:N VitalSign)"
        },
        "dateTime": {
          "type": "string",
          "description": "Date and time the vital sign was measured.",
          "format": "date-time"
        },
        "type": {
          "type": "string",
          "description": "Type of vital sign (e.g., blood pressure, heart rate)."
        },
        "value": {
          "type": "string",
          "description": "Measured value of the vital sign."
        },
        "unit": {
          "type": "string",
          "description": "Units for the vital sign."
        }
      },
      "required": [
        "id",
        "patientId",
        "dateTime",
        "type",
        "value",
        "unit"
      ]
    },
    "Surgery": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Surgery",
      "type": "object",
      "description": "Represents a scheduled surgery.",
      "properties": {
          "id": { "type": "string" },
          "caseId": { "type": "string" },
          "patient": { "type": "string" },
          "procedure": { "type": "string" },
          "surgeon": { "type": "string" },
          "anesthetist": { "type": "string" },
          "or": { "type": "string" },
          "time": { "type": "string" },
          "status": { "type": "string" },
          "checklist": {
              "type": "object",
              "properties": {
                  "consent": { "type": "boolean" },
                  "fasting": { "type": "boolean" },
                  "blood": { "type": "boolean" },
                  "implant": { "type": "boolean" }
              }
          }
      },
      "required": ["id", "caseId", "patient", "procedure", "surgeon", "status"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/patients/{patientId}",
        "definition": {
          "entityName": "Patient",
          "schema": {
            "$ref": "#/entities/Patient"
          },
          "description": "Stores patient information."
        },
        "subcollections": [
          {
            "path": "vitalSigns/{vitalSignId}",
            "definition": {
              "entityName": "VitalSign",
              "schema": {
                "$ref": "#/entities/VitalSign"
              },
              "description": "Stores vital signs for a patient."
            }
          }
        ]
      },
      {
        "path": "/medications/{medicationId}",
        "definition": {
          "entityName": "Medication",
          "schema": {
            "$ref": "#/entities/Medication"
          },
          "description": "Stores medication information."
        }
      },
      {
        "path": "/prescriptions/{prescriptionId}",
        "definition": {
          "entityName": "Prescription",
          "schema": {
            "$ref": "#/entities/Prescription"
          },
          "description": "Stores prescriptions for patients."
        }
      },
      {
        "path": "/doctors/{doctorId}",
        "definition": {
          "entityName": "Doctor",
          "schema": {
            "$ref": "#/entities/Doctor"
          },
          "description": "Stores doctor information."
        }
      },
      {
        "path": "/labOrders/{labOrderId}",
        "definition": {
          "entityName": "LabOrder",
          "schema": {
            "$ref": "#/entities/LabOrder"
          },
          "description": "Stores lab orders for patients."
        }
      },
      {
        "path": "/surgeries/{surgeryId}",
        "definition": {
          "entityName": "Surgery",
          "schema": {
            "$ref": "#/entities/Surgery"
          },
          "description": "Stores surgery schedules and details."
        }
      }
    ]
  }
}
